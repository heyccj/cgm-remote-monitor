<!DOCTYPE html>
<html manifest="appcache/nightscout-<%= locals.cachebuster %>.appcache">
    <head>
      <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=0" />
      <meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="apple-touch-startup-image" href="images/launch.png">
	<meta name="apple-mobile-web-app-title" content="Nightscout">

      <title>Nightscout</title>

      <link rel="apple-touch-icon" sizes="57x57" href="images/apple-touch-icon-57x57.png">
      <link rel="apple-touch-icon" sizes="60x60" href="images/apple-touch-icon-60x60.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="76x76" href="images/apple-touch-icon-76x76.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
      <link rel="apple-touch-icon" sizes="120x120" href="images/apple-touch-icon-120x120.png">
      <link rel="apple-touch-icon" sizes="144x144" href="images/apple-touch-icon-144x144.png">
      <link rel="apple-touch-icon" sizes="152x152" href="images/apple-touch-icon-152x152.png">
      <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon-180x180.png">
      <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">
      <link rel="icon" type="image/png" href="images/android-chrome-192x192.png" sizes="192x192">
      <link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96">
      <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">
      <link rel="manifest" href="manifest.json">
      <link rel="shortcut icon" href="images/favicon.ico">
      <meta name="msapplication-TileColor" content="#00a300">
      <meta name="msapplication-TileImage" content="/images/mstile-144x144.png">
      <meta name="msapplication-config" content="/browserconfig.xml">
      <meta name="theme-color" content="#333333">
      <link rel="stylesheet" type="text/css" href="css/ui-darkness/jquery-ui.min.css" media="none" onload="if(media!='all')media='all'">
      <link rel="stylesheet" type="text/css" href="css/jquery.tooltips.css" media="none" onload="if(media!='all')media='all'">
	    <link rel="stylesheet" type="text/css" href="css/main.css?v=<%= locals.cachebuster %>" media="none" onload="if(media!='all')media='all'" />
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"   integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="   crossorigin="anonymous"></script>
      <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Oswald:300,400,500,700" rel="stylesheet">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
      <style media="screen" type="text/css">

#centerMessagePanel
{
  position:fixed;
  top:0;
  left:0;
  bottom:0;
  right:0;
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  background: #000000;
   z-index: 1000;
}

#loadingMessage {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 90%;
    top: 30%;
    left: 0%;
    font-size: 16px;
}​

.spinner {
  margin: 100px auto 0;
  width: 70px;
  text-align: center;
}

.spinner > div {
  width: 18px;
  height: 18px;
  background-color: #333;

  border-radius: 100%;
  display: inline-block;
  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
  animation: sk-bouncedelay 1.4s infinite ease-in-out both;
}

.spinner .bounce1 {
  -webkit-animation-delay: -0.32s;
  animation-delay: -0.32s;
}

.spinner .bounce2 {
  -webkit-animation-delay: -0.16s;
  animation-delay: -0.16s;
}

@-webkit-keyframes sk-bouncedelay {
  0%, 80%, 100% { -webkit-transform: scale(0) }
  40% { -webkit-transform: scale(1.0) }
}

@keyframes sk-bouncedelay {
  0%, 80%, 100% { 
    -webkit-transform: scale(0);
    transform: scale(0);
  } 40% { 
    -webkit-transform: scale(1.0);
    transform: scale(1.0);
  }
}
</style>

    </head>
    <body>
        <div id="centerMessagePanel">
          <div id="loadingMessage">
            <p><img src="images/launch.png"></p>
            <p id="loadingMessageText">Loading the client</p>
  <div class="spinner">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
  </div>
          </div>
        </div>
          <div class="container loading" id="container">
              <div id="toolbar">
                  <div id="buttonbar" role="navigation" aria-label="Menu" >
                      <a id="editbutton" class="tip" original-title="Edit Mode" aria-label="Edit Mode" href="#" style="display:none;"><i class="icon-edit"></i></a>
                      <a id="testAlarms" class="tip" original-title="Alarm Test / Smartphone Enable" aria-label="Alarm Test / Smartphone Enable" href="#"><i class="icon-volume"></i></a>
                      <a id="drawerToggle" class="tip" original-title="Settings" aria-label="Settings" href="#"><i class="icon-menu"></i></a>
                      <a id="lockedToggle" class="tip" original-title="Token needed for Care Portal" aria-label="Token needed for Care Portal" href="#" style="display:none;"><i class="icon-lock"></i></a>
                      <a id="treatmentDrawerToggle" class="tip" original-title="Care Portal" aria-label="Care Portal" href="#" style="display:none;"><i class="icon-plus"></i></a>
                      <a id="boluscalcDrawerToggle" class="tip" original-title="Bolus Wizard" aria-label="Bolus Wizard" href="#" style="display:none;"><i class="icon-calc"></i></a>
                  </div>
                  <div class="customTitle">Nightscout</div>
              </div>
              <div id="notification" role="region" aria-label="Notification">
                  <a href="#"  aria-label="cancel" ><span></span><i class="icon-cancel-circled"></i></a>
              </div>

              <div class="primary" >
                  <div class="bgStatus current">
                      <div class="bgButton" aria-live="assertive" role="contentinfo" aria-label="Blood Sugar">  
                          <span class="pill rawbg hidden"><em></em><label></label></span>
                          <span class="currentBG">---</span>
                          <span class="pill direction"></span>
                      </div>
                      <ul class="dropdown-menu" id="silenceBtn"></ul>
                      <div class="majorPills"></div>
                      <div class="minorPills"></div>
                  </div>
  
                  <div class="status">
                      <div class="statusBox">
                          <div id="currentTime">---</div>
                          <div class="statusPills">
                          </div>
                      </div>
                  </div>
              </div>

              <div class="client">

                <div class="jumbotron">

                <div class="time"><div id="dynamic"></div></div>

                <div class="bg">
                  <div class="main">
                    <div class="current-bg"><div id="dynamic"></div></div>
                    <div class="bg-arrow"><div id="dynamic"></div></div>
                  </div>
                  <div class="bg-stats">
                      <div class="iob"><i class="fas fa-syringe"></i><div id="dynamic"></div></div>
                      <div class="cob"><svg class="bread" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bread-loaf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-bread-loaf fa-w-20 fa-5x"><path fill="currentColor" d="M480 192c0-88.37-107.45-160-240-160S0 103.63 0 192c0 35.35 26.86 64 60 64h4v192a32 32 0 0 0 32 32h288a32 32 0 0 0 32-32V256h4c33.14 0 60-28.65 60-64zM400 32c-2.43 0-4.78.2-7.19.24C465.2 66.39 512 124.62 512 192c0 42.75-26.92 79.06-64 91.46V448a63.27 63.27 0 0 1-8.9 32H544a32 32 0 0 0 32-32V256h4c33.14 0 60-28.65 60-64 0-88.37-107.45-160-240-160z" class=""></path></svg><div id="dynamic"></div></div>
                  </div>
                </div>

                </div>

                <div class="container">

                <div class="upload">
                    <img src="https://i.imgur.com/1XDlRQJ.jpg">
                    <div class="battery"><i class="fas fa-bolt"></i><div id="dynamic"></div></div>
                    <div class="time-ago"><i class="fas fa-sync-alt"></i><div id="dynamic"></div></div>
                </div>
                <div class="pump">
                 <img src=" https://i.imgur.com/601gCAq.png">
                 <div class="battery"><i class="fas fa-bolt"></i><div id="dynamic"></div><label></label></div>
                 <div class="time-ago"><i class="fas fa-sync-alt"></i><div id="dynamic"></div></div>
                  <div class="units"><i class="fas fa-syringe"></i><div id="dynamic"></div></div>
                  <div class="cage"><i class="fas fa-star-of-life"></i><div id="dynamic"></div></div>
                </div>
                <div class="sensor">
                    <img id="transmitter" src="https://i.imgur.com/489FHSb.png">
                    <div class="battery"><i class="fas fa-bolt"></i><div id="dynamic"></div></div>
                   <div class="calibration"><i class="far fa-clock"></i><div id="dynamic"></div></div>
                   <div class="sage"><i class="fas fa-star-of-life"></i><div id="dynamic"></div></div>
                </div>

              </div>

              </div>

              <div class="row-fluid section1">
                  <div id="chartContainer" role="region" aria-label="Chart"></div>
              </div>
              <ul class="focus-range">
                  <li data-hours="2" class="translate">2HR</li>
                  <li data-hours="3" class="translate">3HR</li>
                  <li data-hours="6" class="translate">6HR</li>
                  <li data-hours="12" class="translate">12HR</li>
                  <li data-hours="24" class="translate">24HR</li>
                  <li>...</li>
              </ul>
          </div>
  
          <div id="drawer">
              <form id="settings-form" role="form" >
                  <ul class="navigation" role="navigation" aria-label="Settings">
                    <li><a href="report" target="reports" class="translate">Reports</a></li>
                    <li class="profilecontrol"><a id="editprofilelink" href="profile" target="profileeditor" class="translate">Profile Editor</a></li>
                    <li class="foodcontrol"><a id="editfoodlink" href="food" target="foodeditor" class="translate">Food Editor</a></li>
                    <li><a id="admintoolslink" href="admin" target="admintools" class="translate">Admin Tools</a></li>
                    <li class="multilink">
                      <a class="translate">Clock Views:</a>
                      <a id="bgclocklink" href="bgclock.html" class="translate multilink">Clock</a>
                      <a id="clockcolorlink" href="clock-color.html" class="translate multilink">Color</a>
                      <a id="clocklink" href="clock.html" class="translate multilink">Simple</a>
                    </li>
                  </ul>
                  <fieldset class="browserSettings">
                      <legend class="translate icon-cog">Settings</legend>
                      <dl class="radio">
                          <dt class="translate">Units</dt>
                          <dd><input type="radio" name="units-browser" id="mgdl-browser" value="mg/dl" checked /><label for="mgdl-browser">mg/dL</label></dd>
                          <dd><input type="radio" name="units-browser" id="mmol-browser" value="mmol" /><label for="mmol-browser">mmol/L</label></dd>
                      </dl>
                      <dl class="radio">
                          <dt class="translate">Date format</dt>
                          <dd><input type="radio" name="timeformat-browser" id="12-browser" value="12" checked /><label for="12-browser" class="translate">12 hours</label></dd>
                          <dd><input type="radio" name="timeformat-browser" id="24-browser" value="24" /><label for="24-browser" class="translate">24 hours</label></dd>
                      </dl>
                      <dl>
                        <dt class="translate">Language</dt>
                        <dd>
                          <select id="language">
                          </select>
                        </dd>
                      </dl>
                      <dl>
                        <dt class="translate">Scale</dt>
                        <dd>
                          <select id="scaleY">
                            <option class="translate" value="log">Logarithmic</option>
                            <option class="translate" value="linear">Linear</option>
                            <option class="translate" value="log-dynamic">Logarithmic (Dynamic)</option>
                          </select>
                        </dd>
                      </dl>
                      <dl>
                        <dt class="translate">Render Basal</dt>
                        <dd>
                          <select id="basalrender">
                            <option class="translate" value="none">None</option>
                            <option class="translate" value="default">Default</option>
                            <option class="translate" value="icicle">Icicle</option>
                          </select>
                        </dd>
                      </dl>
                      <dl class="toggle">
                          <dt><span class="translate">Enable Alarms</span> <a class="tip" original-title="When enabled an alarm may sound."><i class="icon-help-circled"></i></a></dt>
                          <dd><input type="checkbox" id="alarm-urgenthigh-browser" /><label for="alarm-urgenthigh-browser" class="translate">Urgent High Alarm</label></dd>
                          <dd><input type="checkbox" id="alarm-high-browser" /><label for="alarm-high-browser" class="translate">High Alarm</label></dd>
                          <dd><input type="checkbox" id="alarm-low-browser" /><label for="alarm-low-browser" class="translate">Low Alarm</label></dd>
                          <dd><input type="checkbox" id="alarm-urgentlow-browser" /><label for="alarm-urgentlow-browser" class="translate">Urgent Low Alarm</label></dd>
                          <dd>
                            <input type="checkbox" id="alarm-timeagowarn-browser"/><label for="alarm-timeagowarn-browser" class="translate">Stale Data: Warn</label>
                            <input type="text" id="alarm-timeagowarnmins-browser" class="timeago-mins" value="15"/>
                            <span class="translate">mins</span>
                          </dd>
                          <dd>
                            <input type="checkbox" id="alarm-timeagourgent-browser"/><label for="alarm-timeagourgent-browser" class="translate">Stale Data: Urgent</label>
                            <input type="text" id="alarm-timeagourgentmins-browser" class="timeago-mins" value="30"/>
                            <span class="translate">mins</span>
                          </dd>
                          <dd><input type="checkbox" id="alarm-pumpbatterylow-browser" /><label for="alarm-pumpbatterylow-browser" class="translate">Pump Battery Low Alarm</label></dd>
                      </dl>
                      <dl class="toggle">
                          <dt><span class="translate">Night Mode</span> <a class="tip" original-title="When enabled the page will be dimmed from 10pm - 6am."><i class="icon-help-circled"></i></a></dt>
                          <dd><input type="checkbox" name="nightmode-browser" id="nightmode-browser" /><label for="nightmode-browser" class="translate">Enable</label></dd>
                      </dl>
                      <dl class="toggle">
                          <dt><span class="translate">Edit Mode</span> <a class="tip" original-title="When enabled icon to start edit mode is visible"><i class="icon-help-circled"></i></a></dt>
                          <dd><input type="checkbox" name="editmode-browser" id="editmode-browser" /><label for="editmode-browser" class="translate">Enable</label></dd>
                      </dl>
                      <dl id="show-rawbg-option" class="toggle">
                        <dt><span class="translate">Show Raw BG Data</span> <a class="tip" original-title="When enabled small white dots will be displayed for raw BG data"><i class="icon-help-circled"></i></a></dt>
                        <dd><input type="radio" name="show-rawbg" id="show-rawbg-never" value="never"/><label for="show-rawbg-never" class="translate">Never</label></dd>
                        <dd><input type="radio" name="show-rawbg" id="show-rawbg-always" value="always"/><label for="show-rawbg-always" class="translate">Always</label></dd>
                        <dd><input type="radio" name="show-rawbg" id="show-rawbg-noise" value="noise"/><label for="show-rawbg-noise" class="translate">When there is noise</label></dd>
                      </dl>
                      <dl>
                          <dt class="translate">Custom Title</dt>
                          <dd><input type="text" id="customTitle" value="Nightscout" /></dd>
                      </dl>
                      <dl class="radio">
                          <dt class="translate">Theme</dt>
                          <dd><input type="radio" name="theme-browser" id="theme-default-browser" value="default" checked /><label for="theme-default-browser" class="translate">Default</label></dd>
                          <dd><input type="radio" name="theme-browser" id="theme-colors-browser" value="colors" /><label for="theme-colors-browser" class="translate">Colors</label></dd>
                          <dd><input type="radio" name="theme-browser" id="theme-colorblindfriendly-browser" value="colorblindfriendly" /><label for="theme-colorblindfriendly-browser" class="translate">Colorblind-friendly colors</label></dd>
                      </dl>
                      <dl id="show-plugins" class="toggle">
                          <dt class="translate">Show Plugins</dt>
                      </dl>
                  </fieldset>
  
                  <div class="actions">
                    <button type="button" id="save" class="translate">Save</button>
                    <a id="useDefaults" class="pull-right translate" href="">Reset, and use defaults</a>
                  </div>
  
                  <hr>
                  <span id="authentication_placeholder"></span>
  
                  <fieldset id="about">
                      <legend class="translate">About</legend>
                      <div class="appName"></div>
                      <div>version <span class="version"></span></div>
                      <div>head <span class="head"></span></div>
                      <p>
                        <div>License: <a href="http://www.gnu.org/licenses/agpl.html" target="_blank">AGPL</a></div>
                        <div>Copyright © 2017 <a href="https://github.com/nightscout/cgm-remote-monitor/graphs/contributors" target="_blank">Nightscout contributors</a></div>
                      </p>
                      <div class="links">
                          <a href="https://github.com/nightscout/cgm-remote-monitor/releases" target="_blank">Release Notes</a><br />
                          <a href="http://nightscout.github.io/pages/update-fork/">Check for Updates</a><br />
                          <a href="http://github.com/nightscout/cgm-remote-monitor" target="_blank">Open Source</a><br />
                          <a href="http://www.nightscout.info" target="_blank">Nightscout Info</a><br />
                          <a href="https://www.facebook.com/groups/cgminthecloud/" target="_blank">CGM in the Cloud</a><br />
                      </div>
                  </fieldset>
              </form>
          </div>
  
          <div id="treatmentDrawer">
              <form id="treatment-form">
                  <fieldset class="treatmentData">
                      <legend class="translate">Log a Treatment</legend>
                      <label for="eventType" class="left-column">
                          <span class="translate">Event Type</span>
                          <select id="eventType"></select>
                      </label>
                      <label id="reasonLabel" for="reason" class="left-column">
                          <span class="translate">Reason</span>
                          <select id="reason"></select>
                      </label>
  
                      <fieldset id="targets">
                        <legend class="translate">Targets</legend>
                        <label for="targetTop" class="left-column">
                          <span class="translate">Top</span>
                          <input type="number" step="any" id="targetTop" />
                        </label>
                        <label for="targetBottom" class="left-column">
                          <span class="translate">Bottom</span>
                          <input type="number" step="any" id="targetBottom" />
                        </label>
                      </fieldset>
  
                      <fieldset id="bg">
                          <legend class="translate">Glucose Reading</legend>
                          <input type="number" step="any" id="glucoseValue" pattern="[0-9.,]*" />
                          <label><br><span class="translate">Measurement Method</span><br></label>
                          <label for="meter">
                              <input type="radio" name="glucoseType" id="meter" value="Finger"/>
                              <span class="translate">Meter</span>
                          </label>
                          <label for="sensor">
                              <input type="radio" name="glucoseType" id="sensor" value="Sensor"/>
                              <span class="translate">Sensor<br></span>
                          </label>
                      </fieldset>
                      <label id="carbsGivenLabel" for="carbsGiven" class="left-column short-label">
                          <span class="translate">Carbs Given</span>
                          <input type="number" step="any" min="0" id="carbsGiven" placeholder="Amount in grams" class="titletranslate" pattern="\d*" />
                      </label>
                      <label id="insulinGivenLabel" for="insulinGiven" class="left-column short-label">
                          <span class="translate">Insulin Given</span>
                          <input type="number" step="any" min="0" id="insulinGiven" placeholder="Amount in units" class="titletranslate" pattern="[0-9.,]*" />
                      </label>
                      <label id="insulinSplitLabel" for="insulinSplit" class="left-column short-label">
                          <span class="translate">Split</span>
                          <input type="number" step="5" min="0" max="100" style="width:50px" id="insulinSplitNow" placeholder="% now" class="titletranslate" pattern="\d*" />%
                          :
                          <input type="number" step="5" min="0" max="100" style="width:50px" id="insulinSplitExt" placeholder="% extended" class="titletranslate" pattern="\d*" />%
                      </label>
                      <label id="durationLabel" for="duration" class="left-column short-label">
                          <span class="translate">Duration</span>
                          <input id="duration" placeholder="Duration in minutes" class="titletranslate"/>
                      </label>
                      <label id="percentLabel" for="percent" class="left-column short-label">
                          <span class="translate">Percent</span>
                          <input type="number" step="10" id="percent" placeholder="Basal change in %" class="titletranslate" />
                      </label>
                      <label id="profileLabel" for="profile" class="left-column short-label">
                          <span class="translate">Profile</span>
                          <select id="profile"></select>
                      </label>
                      <label id="absoluteLabel" for="absolute" class="left-column short-label">
                          <span class="translate">Basal value</span>
                          <input type="number" step="0.025" id="absolute" placeholder="Absolute basal value" class="titletranslate"/>
                      </label>
                      <label id="preBolusLabel" for="preBolus" class="left-column short-label extra-space">
                          <span class="translate">Carb Time</span>
                          <select id="preBolus">
                              <option class="translate" value="-60">60 minutes earlier</option>
                              <option class="translate" value="-45">45 minutes earlier</option>
                              <option class="translate" value="-30">30 minutes earlier</option>
                              <option class="translate" value="-20">20 minutes earlier</option>
                              <option class="translate" value="-15">15 minutes earlier</option>
                              <option class="translate" value="0">Time in minutes</option>
                              <option class="translate" value="15">15 minutes later</option>
                              <option class="translate" value="20">20 minutes later</option>
                              <option class="translate" value="30">30 minutes later</option>
                              <option class="translate" value="45">45 minutes later</option>
                              <option class="translate" value="60">60 minutes later</option>
                          </select>
                      </label>
  
                      <!-- Label and textarea -->
                      <label for="notes" class="extra-space translate">Additional Notes, Comments</label>
                      <textarea id="notes"></textarea><br>
  
                      <label for="enteredBy" class="left-column extra-space">
                        <span class="translate">Entered By</span>
                        <input type="text" id="enteredBy" value="" />
                      </label>
  
                      <div id="eventTime">
                        <span class="translate">Event Time</span>
                        <label for="nowtime">
                          <input type="radio" name="nowOrOther" id="nowtime" value="now" checked="checked"/>
                          <span class="translate">Now</span>
                        </label>
                        <label for="othertime">
                          <input type="radio" name="nowOrOther" id="othertime" value="other"/>
                          <span class="translate">Other</span>
                        </label>
                        <input type="date" id="eventDateValue" name="eventDateValue" value="" class="eventinput eventdate"/>
                        <input type="time" id="eventTimeValue" name="eventTimeValue" value="" class="eventinput eventtime"/>
                     </div>
  
                    <button type="button" class="translate">Submit Form</button>
                  </fieldset>
              </form>
          </div>
  
          <div id="boluscalcDrawer">
            <form id="boluscalc-form">
              <fieldset class="boluscalcData">
                <legend>
                  <span class="translate">Bolus Wizard</span>
                </legend>
                <table>
                  <tr>
                    <td>
                    </td>
                    <td>
                      <span class="translate">BG</span>:
                      <span style="float:right;">
                        <input type="number" size="3" id="bc_bg" class="insulincalculationpart" pattern="[0-9.]*" >
                      </span>
                    </td>
                    <td>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input title="Use BG correction in calculation" type="checkbox" id="bc_usebg" class="insulincalculationpart titletranslate" checked>
                    </td>
                    <td style="width:170px">
                      <input type="radio" name="bc_bginput" id="bc_bgfromsensor" value="Sensor" checked>
                      <i title="BG from CGM (autoupdated)" class="icon-chart-line titletranslate" style="margin-right:0;margin-left:-0.6em;color:lightgreen"></i>
                      <input type="radio" name="bc_bginput" id="bc_bgfrommeter" value="Finger">
                      <i title="BG from meter" class="icon-tint titletranslate" style="margin-right:0;margin-left:-0.6em;color:red"></i>
                      <input type="radio" name="bc_bginput" id="bc_bgmanual" value="Manual">
                      <i title="Manual BG" class="icon-sort-numeric titletranslate" style="margin-right:0;margin-left:-0.6em;color:blue"></i>
                    </td>
                    <td id="bc_inzulinbgtd" class="insulincalculation">
                      <span style="float:right" id="bc_inzulinbg">0.00</span>
                    </td>
                  </tr>
                  <tr class="foodinput" style="display:none">
                    <td colspan="3" id="bc_gitd">
                      <span class="translate">GI</span>:
                      <select style="float:right;" id="bc_gi">
                        <option class="translate" value="1">Low</option>
                        <option class="translate" value="2" selected>Medium/Unknown</option>
                        <option class="translate" value="3">High</option>
                      </select>
                      <span style="float:right;" id="bc_gicalculated" style="display:none"></span>
                    </td>
                  </tr>
                  <tr class="foodinput foodcontrol">
                    <td colspan="3">
                      <span class="translate">Quickpick</span>:
                      <br>
                      <select style="float:right;" id="bc_quickpick"></select>
                      <br>
                      <span id="bc_addfoodarea">
                        <span class="translate">or</span>
                        <a href="#" style="float:right;" id="bc_addfromdatabase">
                          <span class="translate">Add from database</span>
                        </a>
                      </span>
                      <div id="bc_food">
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input title="Use carbs correction in calculation" type="checkbox" id="bc_usecarbs" class="insulincalculationpart titletranslate" checked>
                    </td>
                    <td>
                      <span class="translate">Carbs</span>:
                      <span style="float:right;">
                        <input type="number" size="3" id="bc_carbs" value="0" class="insulincalculationpart" pattern="\d*" > g
                      </span>
                    </td>
                    <td id="bc_inzulincarbstd" class="insulincalculation">
                      <span style="float:right" id="bc_inzulincarbs"></span>
                    </td>
                  </tr>
                  <tr class="cobcontrol">
                    <td>
                      <input title="Use COB correction in calculation" type="checkbox" id="bc_usecob" class="insulincalculationpart titletranslate">
                    </td>
                    <td>
                      <span class="translate">COB</span>:
                      <span style="float:right">
                        <span id="bc_cob"></span> g
                      </span>
                    </td>
                    <td class="insulincalculation">
                        <span style="float:right" id="bc_cobu"></span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input title="Use IOB in calculation" type="checkbox" id="bc_useiob" class="insulincalculationpart" checked>
                    </td>
                    <td>
                      <span class="translate">IOB</span>:
                    </td>
                    <td class="insulincalculation">
                      <span style="float:right" id="bc_iob">0.00</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                    </td>
                    <td>
                      <span class="translate">Other correction</span>:
                    </td>
                    <td class="insulincalculation">
                      <select style="float:right" id="bc_othercorrection" class="insulincalculationpart">
                        <option value="-1">-1.00</option>
                        <option value="-0.95">-0.95</option>
                        <option value="-0.90">-0.90</option>
                        <option value="-0.85">-0.85</option>
                        <option value="-0.80">-0.80</option>
                        <option value="-0.75">-0.75</option>
                        <option value="-0.70">-0.70</option>
                        <option value="-0.65">-0.65</option>
                        <option value="-0.60">-0.60</option>
                        <option value="-0.55">-0.55</option>
                        <option value="-0.50">-0.50</option>
                        <option value="-0.45">-0.45</option>
                        <option value="-0.40">-0.40</option>
                        <option value="-0.35">-0.35</option>
                        <option value="-0.30">-0.30</option>
                        <option value="-0.25">-0.25</option>
                        <option value="-0.20">-0.20</option>
                        <option value="-0.15">-0.15</option>
                        <option value="-0.10">-0.10</option>
                        <option value="-0.05">-0.05</option>
                        <option value="0" selected>0.00</option>
                        <option value="0.05">0.05</option>
                        <option value="0.10">0.10</option>
                        <option value="0.15">0.15</option>
                        <option value="0.20">0.20</option>
                        <option value="0.25">0.25</option>
                        <option value="0.30">0.30</option>
                        <option value="0.35">0.35</option>
                        <option value="0.40">0.40</option>
                        <option value="0.45">0.45</option>
                        <option value="0.50">0.50</option>
                        <option value="0.55">0.55</option>
                        <option value="0.60">0.60</option>
                        <option value="0.65">0.65</option>
                        <option value="0.70">0.70</option>
                        <option value="0.75">0.75</option>
                        <option value="0.80">0.80</option>
                        <option value="0.85">0.85</option>
                        <option value="0.90">0.90</option>
                        <option value="0.95">0.95</option>
                        <option value="1">1.00</option>
                      </select>
                    </td>
                  </tr>
                  <tr class="border_bottom">
                    <td>
                    </td>
                    <td>
                      <span class="translate">Rounding</span>:
                    </td>
                    <td class="insulincalculation">
                      <span style="float:right" id="bc_rouding">0.00</span>
                    </td>
                  </tr>
                  <tr id="bc_calculationintarget" class="insulintotalcalculation border_bottom">
                    <td>
                    </td>
                    <td colspan="2">
                      <span class="translate" style="font-size:1em">Calculation is in target range.</span>
                    </td>
                  </tr>
                  <tr  id="bc_insulinneededtr" class="insulintotalcalculation border_bottom">
                    <td>
                      <input title="Enter insulin correction in treatment" type="checkbox" id="bc_useinsulin" class="insulincalculationpart titletranslate" checked>
                    </td>
                    <td>
                      <span class="translate">Insulin needed</span>:
                    </td>
                    <td>
                      <span style="float:right" id="bc_insulintotal">0.00</span>
                    </td>
                  </tr>
                  <tr  id="bc_carbsneededtr" class="insulintotalcalculation border_bottom titletranslate" title="Carbs needed if Insulin total is negative value">
                    <td>
                    </td>
                    <td>
                      <span class="translate">Carbs needed</span>:
                      <span style="float:right" id="bc_carbsneeded"></span>
                    </td>
                    <td>
                      <span  style="float:right"id="bc_insulinover"></span>
                    </td>
                  </tr>
                  <tr class="border_bottom">
                    <td>
                    </td>
                    <td>
                      <span class="translate">Basal rate</span>:
                    </td>
                    <td>
                      <span id="bc_basal" style="float:right"></span>
                    </td>
                  </tr>
                </table>
                <hr>
                <label for="bc_preBolus" class="left-column short-label extra-space">
                  <span class="translate">Carb Time</span>:
                  <select id="bc_preBolus">
                    <option class="translate" value="-60">60 minutes earlier</option>
                    <option class="translate" value="-45">45 minutes earlier</option>
                    <option class="translate" value="-30">30 minutes earlier</option>
                    <option class="translate" value="-20">20 minutes earlier</option>
                    <option class="translate" value="-15">15 minutes earlier</option>
                    <option class="translate" value="0" selected>Time in minutes</option>
                    <option class="translate" value="15">15 minutes later</option>
                    <option class="translate" value="20">20 minutes later</option>
                    <option class="translate" value="30">30 minutes later</option>
                    <option class="translate" value="45">45 minutes later</option>
                    <option class="translate" value="60">60 minutes later</option>
                  </select>
                </label>
                <br>
                <label id="bc_profileLabel" for="preBolus" class="left-column short-label extra-space">
                  <span class="translate">Profile</span>:
                  <select id="bc_profile" class="insulincalculationpart"></select>
                </label>
                <br>
  
                <!-- Label and textarea -->
                <label for="bc_notes" class="extra-space translate">Additional Notes, Comments</label>
                <textarea id="bc_notes" style="width:250px"></textarea>
                <br>
  
                <label for="bc_enteredBy" class="left-column extra-space">
                  <span class="translate">Entered By</span>:
                </label>
                <input type="text" id="bc_enteredBy" value="" />
  
                <div id="bc_eventTime">
                  <span class="translate">Event Time</span>:
                  <input type="radio" name="bc_nowOrOther" id="bc_nowtime" value="now" checked="checked"/>
                  <label for="bc_nowtime">
                    <span class="translate">Now</span>
                  </label>
                  <input type="radio" name="bc_nowOrOther" id="bc_othertime" value="other"/>
                  <label for="bc_othertime">
                    <span class="translate">Other</span>
                  </label>
                  <input type="date" id="bc_eventDateValue" name="bc_eventTimeValue" value="" class="bc_eventtimeinput"/>
                  <input type="time" id="bc_eventTimeValue" name="bc_eventTimeValue" value="" class="bc_eventtimeinput"/>
                </div>
                <div id="bc_retro" class="translate" style="display:none;width:100%;background-color:red;text-align: center;border: 2px solid black;border-radius: 10px;margin-top:10px;">RETRO MODE</div>
              </fieldset>
              <button type="button" class="translate">Submit Form</button>
            </form>
  
            <div id="bc_addfooddialog" style="display:none" title="Add food from your database" class="titletranslate">
              <fieldset class="browserSettings">
                <legend class="translate">Filter</legend>
                <span class="translate">Category</span>: <select id="bc_filter_category"></select>
                <span class="translate">Subcategory</span>: <select id="bc_filter_subcategory"></select>
                <br>
                <span class="translate">Name</span>: <input type="text" id="bc_filter_name"></select>
              </fieldset>
              <select id="bc_data" style="width:100%;"></select>
              <br>
              <br>
              <span class="translate">Portions</span>: <input type="number" step="0.1" min="0" value="1" size="3" id="bc_addportions">
            </div>
          </div>
  
  

        <script src="js/bundle.js?v=<%= locals.cachebuster %>"></script>
        <script src="socket.io/socket.io.js?v=<%= locals.cachebuster %>"></script>
        <script src="js/client.js?v=<%= locals.cachebuster %>"></script>
        <script type="text/javascript">

        $(document).ready(function() {
          setTimeout(function(){
            runClient();
            setInterval(ChangeListener, 500);
          }, 2000);
        });

        //every half a second, check to see if the word 'pump' has been updated. If so, data has refreshed so we need to run the scripts.
        function ChangeListener() {
            if($('.pill.pump.current label').text() == "Pump") {
              runClient();
            }
        };

        function runClient() {

          //Reset the word--we use this to detect data change
          $('.pill.pump.current label').text('');

          //empty all dynamic fields
          $('html #dynamic').each(function () {
              $(this).empty();
          });

          //copy current time to client div
          $('.primary #currentTime').clone().appendTo('.client .time #dynamic');

          //copy current blood sugar information to client divs
          $('.primary .bgStatus .currentBG').clone().appendTo('.client .bg .current-bg #dynamic');
          $('.primary .pill.direction i').clone().appendTo('.client .bg .bg-arrow #dynamic');
          $('.primary .pill.delta').clone().appendTo('.client .bg .bg-arrow #dynamic');
          
          //copy current blood sugar stats to client divs
          $('.primary .pill.iob').clone().appendTo('.client .bg-stats .iob #dynamic');
          
          //copy COB since it doesnt have a good class...
          $('.minorPills label:contains("COB")').each(function () {
              $(this).parent().addClass('cob');
          });
          $('.primary .pill.cob').clone().appendTo('.client .bg-stats .cob #dynamic');

          //copy uploader stats to client divs
          $('.primary .pill.timeago.current').clone().appendTo('.client .upload .time-ago #dynamic');
          $('.primary .pill.upbat.current').clone().appendTo('.client .upload .battery #dynamic');

          //fix the dynamic pump text
          var content = $(".pill.pump.current em").text().replace(/endunits/g,'<\/span>').replace(/endtime/g,'<\/span>').replace(/endbatt/g,'<\/span>').replace(/endstatus/g,'<\/span>').replace(/units/g,'<span id="units">').replace(/batt/g,'<span id="batt">').replace(/status/g,'<span id="status">').replace(/time/g,'<span id="time">').replace(/::::/g,'<span>100% <label class=\"icon-battery-100\"><\/label><\/span>').replace(/:::./g,'<span>75% <label class=\"icon-battery-75\"><\/label><\/span>').replace(/::../g,'<span>50% <label class=\"icon-battery-50\"><\/label><\/span>').replace(/:.../g,'<span>25% <label class=\"icon-battery-25\"><\/label><\/span>');
          $(".pill.pump.current em").html(content);
          
          //split out transmitter info from punmp text above
          $('#status span').each(function () {
            $(this).addClass('transmitter-batt');
             $(this.nextSibling).wrap('<span id="cali"></span>');
          });

          //copy pump text to client divs
          $(".pill.pump.current em #units").clone().appendTo('.client .pump .units #dynamic');
          $(".pill.pump.current em #batt").clone().appendTo('.client .pump .battery #dynamic');
          $(".pill.pump.current em #time").clone().appendTo('.client .pump .time-ago #dynamic');
          $('.primary .pill.cage').clone().appendTo('.client .pump .cage #dynamic');


          //set pump battery icon
          function setBatteryIcon() {
              var battery = $('.pump #dynamic #batt').text();
              battery = parseFloat(battery);
              if (battery >= 95) {
              $('.pump .battery label').addClass('icon-battery-100')
            } else if (battery < 95 && battery >= 55) {
              $('.pump .battery  label').addClass('icon-battery-75')
            } else if (battery < 55 && battery >= 30) {
              $('.pump .battery  label').addClass('icon-battery-50')
            } else {
              $('.pump .battery  label').addClass('icon-battery-25')
            }
          }
          setBatteryIcon();

          //copy transmitter text to client divs
          $(".pill.pump.current em #status .transmitter-batt").clone().appendTo('.client .sensor .battery #dynamic');
          $(".pill.pump.current em #status #cali").clone().appendTo('.client .sensor .calibration #dynamic');
          $('.primary .pill.sage').clone().appendTo('.client .sensor .sage #dynamic');


        }


        /* 

        $(document).ready(function() {
          setTimeout(function(){
           $('.status .statusBox .statusPills').prepend('<div class="uploader-info"></div>').append('<div class="transmitter-info"><img id="transmitter" src="https://i.imgur.com/489FHSb.png"></div>');
            $('.uploader-info').prepend($('.pill.upbat.current')).prepend($('.pill.timeago.current')).prepend('<img src="https://i.imgur.com/1XDlRQJ.jpg">');
            $('.pill.timeago.current').prepend('<i class="fas fa-cloud-upload-alt"></i>');
            $('.pill.pump.current').prepend('<img src=" https://i.imgur.com/601gCAq.png">');
            wrapPumpStats();
            window.dispatchEvent(new Event('resize'));
          }, 2000);
        });

        function runOnChanged() {
          $('.pill.pump.current label').text('');
          chartHeight();
          wrapPumpStats();
        }

        function ChangeListener() {
            if($('.pill.pump.current label').text() == "Pump") {
              runOnChanged()
            }
        }
        setInterval(ChangeListener, 500);

        function chartHeight() {
          var x = $('#chartContainer').outerHeight();
          $('.row-fluid.section1').height(x);
        }

        function wrapPumpStats() {
          var content = $(".pill.pump.current em").text().replace(/endunits/g,'<\/span>').replace(/endtime/g,'<\/span>').replace(/endbatt/g,'<\/span>').replace(/endstatus/g,'<\/span>').replace(/units/g,'<span id="units">').replace(/batt/g,'<span id="batt">').replace(/status/g,'<span id="status">').replace(/time/g,'<span id="time">');
          $(".pill.pump.current em").html(content);
          $('#units').prepend('<i class="fas fa-syringe"></i>');
          setBatteryIcon();
          $('#batt').prepend('<i class="fas fa-bolt"></i>');
          $('#time').prepend('<i class="fas fa-sync-alt"></i>');
          $('#status').prepend('<i class="fas fa-info-circle"></i>');
          var content = $(".pill.pump.current #status").text().replace(/::::/g,'<span>100% <label class=\"icon-battery-100\"><\/label><\/span>').replace(/:::./g,'<span>75% <label class=\"icon-battery-75\"><\/label><\/span>').replace(/::../g,'<span>50% <label class=\"icon-battery-50\"><\/label><\/span>').replace(/:.../g,'<span>25% <label class=\"icon-battery-25\"><\/label><\/span>');
          $(".pill.pump.current #status").html(content);
          $('#status span').each(function () {
             $(this.nextSibling).wrap('<span id="cali"></span>');
          });
          $('.transmitter-info').find('*').not('#transmitter').remove();
          $('.transmitter-info').append('<div id="one"></div><div id="two"></div>')
          $('.transmitter-info #one').append("<i class='fas fa-bolt'></i>").append($('#status span'));
          $('.transmitter-info #two').append("<img src='https://static.thenounproject.com/png/210738-200.png'>").append($("#cali"));
        }

        function setBatteryIcon() {
          var battery = $('#batt').text();
          battery = parseFloat(battery);
          $('#batt').append("<label><\/label>")
          if (battery >= 95) {
          $('#batt label').addClass('icon-battery-100')
        } else if (battery < 95 && battery >= 55) {
           $('#batt label').addClass('icon-battery-75')
        } else if (battery < 55 && battery >= 30) {
           $('#batt label').addClass('icon-battery-50')
        } else {
           $('#batt label').addClass('icon-battery-25')
        }
        }

*/

</script>

<style  media="screen" type="text/css">

html, body {
font-family: 'Open Sans', sans-serif !important;
}

.primary {
    height: 0;
    overflow: hidden;
}

#toolbar {
    background: url(/images/logo2.png) no-repeat 3px 3px rgba(0,0,0,0);
    border-bottom: none;
    text-shadow: none;
    position: absolute;
    width: 100vw;
}

.jumbotron {
    background: #005C97;
    background: -webkit-linear-gradient(to right, #363795, #005C97);
    background: linear-gradient(to right, #363795, #005C97);
    height: 452px;
    padding: 50px;
}
#dynamic {
    display: block;
}
.time {
text-align: center;
color: white;
font-size: 19px;
font-weight: lighter;
letter-spacing: 2px;
}



.main .current-bg {
    text-align: center;
    color: white;
    font-family: 'Oswald', sans-serif !important;
    font-size: 150px;
    font-weight: bold;
    line-height: 100%;
    margin: 49px 0 18px 0;
}

.pill {
    border-radius: 0px;
    background: none;
    border: none;
    display: block;
    white-space: normal;
    padding: 0;
    margin: 0;
}
.pill em, .pill label{
background: none;
border-radius: 0px;
padding: 0;
}

.bg-arrow {
padding: 10px;
text-align: center;
}
.pill.direction {
    font-size: 40px;
    color: white;
    display: block;
}
.slant-down {
  transform: rotate(-45deg);
}
.slant-down {
  transform: rotate(45deg);
}

.bg-arrow i {
  font-size: 44px;
color: white;
display: block;
}
.pill.delta * {
color: white !important;
margin: 0 2px;
}
.pill.delta em {
font-weight: bold !important;
font-size: 20px;
}
.pill.delta label {
font-weight: 100;
font-size: 13px;
}


.bg-stats {
    text-align: center;
    margin: 20px 0;
}
.iob, .cob {
    display: inline-block;
    margin: 0 9px;
}
.iob .fas.fa-syringe {
    color: white;
    font-size: 24px;
}
.bread, .bread path {
  width: 25px;
fill: white;
}
.bg-stats label {
color: white;
font-size: 13px;
font-weight: 100;
}
.bg-stats em {
color: white;
font-size: 20px;
margin-left: 5px;
}


.upload, .pump, .sensor {
border: 1px solid #e1e1e0;
margin: 20px;
padding: 10px;
box-shadow: 0px 10px 19px -9px #d2d2d2;
position: relative;
background: white;
}
.upload::before, .pump::before, .sensor::before {
background: linear-gradient(to right, #363795, #005C97);
height: 13px;
width: calc(100% + 2px);
content: "";
position: absolute;
top: 0px;
left: -1px;
}

.upload img {
width: 119px;
display: block;
margin: 17px auto 0 auto;
}

.pump img {
width: 98px;
display: block;
margin: 17px auto 0 auto;
}

img#transmitter {
width: 104px;
display: block;
margin: 17px auto 0 auto;
}

.battery, .time-ago, .units, .calibration {
margin: 18px 0;
position: relative;
}
.upload .fas, .pump .fas, .sensor .fas, .calibration .far {
display: inline-block;
color: black;
font-size: 21px;
position: absolute;
}
.upload #dynamic, .pump #dynamic, .sensor #dynamic {
display: inline-block;
margin-left: 40px;
margin-top: -4px;
}
.upload em, .pump em, .sensor em {
color: black;
font-size: 15px;
}
#units, #time, #batt, .transmitter-batt {
color: black;
font-size: 15px;
font-weight: bold;
}
.upload label, .pump label, .sensor label {
color: black;
font-weight: 100;
font-size: 14px;
margin-left: 6px;
}


.calibration img {
width: 28px;
position: absolute;
}
#cali {
font-weight: bold;
color: black;
font-size: 15px;
}








#chartContainer {
background: white;
position: relative;
top: 0 !important;
}
.tick {
fill: black;
}


.focus-range {
position: relative;
display: block;
width: 100px;
margin: 0 auto;
}




@media only screen and (min-width: 700px) {

.client {
overflow: hidden;
margin-bottom: 55px;
}
.jumbotron + .container {
width: 700px;
margin: 0 auto;
overflow: hidden;
}
.upload, .pump, .sensor {
width: 25%;
float: left;
margin-left: 1%;
margin-right: 1%;
height: 271px;
padding-left: 26px;
}
.upload {
margin-left: 16px;
}
.upload img {
margin: 17px auto 29px auto;
}
.pump img {
margin: 39px auto 43px auto;
}
img#transmitter {
margin: 27px auto 25px auto;
}

}


</style>
    </body>
</html>
